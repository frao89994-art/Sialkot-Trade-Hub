<!DOCTYPE html>
<html>
<head>
<title>Sialkot Trade Hub</title>

<style>
body{font-family:Arial;margin:0;background:#f5f6f8}
#site{display:none}

/* AUTH */
.auth{position:fixed;inset:0;background:white;display:flex;justify-content:center;align-items:center;z-index:999}
.auth-box{width:380px;padding:25px;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,.15)}
h2{text-align:center}

input,select,button{
  width:100%;padding:10px;margin:8px 0;
  border-radius:6px;border:1px solid #ccc
}
button{background:#0b3c5d;color:white;border:none;font-weight:bold;cursor:pointer}

.field{position:relative}
.field span{
  position:absolute;right:10px;top:50%;
  transform:translateY(-50%);
  cursor:pointer;color:#0b3c5d
}

.switch{text-align:center;color:#0b3c5d;cursor:pointer}
.forgot{text-align:right;font-size:13px;color:#0b3c5d;cursor:pointer}

/* ACCOUNT */
.account{
  position:fixed;top:10px;right:10px;
  background:#0b3c5d;color:white;
  padding:10px 15px;border-radius:20px;
  cursor:pointer;display:none
}
.menu{
  display:none;position:absolute;right:0;top:40px;
  background:white;color:black;border-radius:8px;
  box-shadow:0 5px 20px rgba(0,0,0,.2)
}
.menu div{padding:10px 15px;cursor:pointer}
.menu div:hover{background:#eee}

/* SECTIONS */
.section{padding:40px;background:white;margin-top:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
.card{
  border:1px solid #ddd;padding:15px;
  border-radius:10px;background:#fafafa;text-align:center
}
.card img{
  width:100%;height:140px;
  object-fit:cover;border-radius:8px
}

/* MODAL */
.modal{
  display:none;position:fixed;inset:0;
  background:rgba(0,0,0,.5);
  justify-content:center;align-items:center;z-index:1000
}
.modal-box{
  background:white;padding:20px;width:380px;border-radius:10px
}
.close{float:right;color:red;cursor:pointer}
</style>
</head>

<body>

<!-- AUTH -->
<div class="auth" id="auth">
  <div class="auth-box">
    <h2 id="authTitle">Sign In</h2>

    <div id="loginForm">
      <select id="lcountry">
        <option value="">Select Country</option>
        <option>Pakistan</option><option>USA</option><option>UK</option>
        <option>UAE</option><option>China</option><option>Other</option>
      </select>

      <input id="lemail" placeholder="Email">

      <div class="field">
        <input id="lpass" type="password" placeholder="Password">
        <span onclick="togglePass('lpass')">üëÅ</span>
      </div>

      <div class="forgot" onclick="forgot()">Forgot password?</div>
      <button onclick="login()">Sign In</button>
    </div>

    <div id="signupForm" style="display:none">
      <input id="name" placeholder="Full Name">
      <input id="email" placeholder="Email">
      <input id="mobile" placeholder="Mobile Number">
      <input id="cnic" placeholder="CNIC (Optional)">

      <select id="country">
        <option value="">Select Country</option>
        <option>Pakistan</option><option>USA</option><option>UK</option>
        <option>UAE</option><option>China</option><option>Other</option>
      </select>

      <select id="role">
        <option value="customer">Customer</option>
        <option value="factory">Factory</option>
      </select>

      <div class="field">
        <input id="pass" type="password" placeholder="Password">
        <span onclick="togglePass('pass')">üëÅ</span>
      </div>

      <div class="field">
        <input id="cpass" type="password" placeholder="Confirm Password">
        <span onclick="togglePass('cpass')">üëÅ</span>
      </div>

      <button onclick="signup()">Create Account</button>
    </div>

    <div class="switch" onclick="toggle()">Create new account</div>
  </div>
</div>

<!-- ACCOUNT -->
<div class="account" id="account" onclick="toggleMenu()">
My Account ‚ñæ
<div class="menu" id="menu">
  <div onclick="location.href='factory-dashboard.html'">Factory Dashboard</div>
  <div onclick="location.href='faq.html'">FAQ</div>
  <div onclick="forgot()">Forgot Password</div>
  <div onclick="logout()">Logout</div>
</div>
</div>

<!-- WEBSITE -->
<div id="site">

<header style="background:#0b3c5d;color:white;padding:20px;text-align:center">
  <h1>Sialkot Trade Hub</h1>
  <p>Sports & Hosiery Marketplace ‚Äì Made in Sialkot</p>

  <!-- ‚úÖ ADDED LINKS -->
  <div style="margin-top:10px">
    <a href="factory-dashboard.html" style="color:white;margin:0 10px">Factory Dashboard</a>
    <a href="faq.html" style="color:white;margin:0 10px">FAQ</a>
  </div>
</header>

<div class="section">
  <h2>Registered Factories</h2>
  <div class="grid" id="factoryList"></div>
</div>

<div class="section">
  <h2>Sports & Hosiery Products</h2>
  <div class="grid">
    <div class="card"><h4>Footballs</h4><p>Export quality footballs</p></div>
    <div class="card"><h4>Cricket Gear</h4><p>Bats, pads, gloves</p></div>
    <div class="card"><h4>Sportswear</h4><p>Tracksuits & gym wear</p></div>
    <div class="card"><h4>Gloves</h4><p>Winter & work gloves</p></div>
  </div>
</div>

<footer style="background:#0b3c5d;color:white;text-align:center;padding:10px">
¬© 2026 Sialkot Trade Hub | 03042249321
</footer>

</div>

<script>
let signupMode=false,currentUser=null;

if(localStorage.getItem("user")){
  currentUser=JSON.parse(localStorage.getItem("user"));
  unlock();
}

function toggle(){
  signupMode=!signupMode;
  loginForm.style.display=signupMode?"none":"block";
  signupForm.style.display=signupMode?"block":"none";
  authTitle.innerText=signupMode?"Create Account":"Sign In";
}

function togglePass(id){
  let f=document.getElementById(id);
  f.type=f.type==="password"?"text":"password";
}

function signup(){
  if(pass.value!==cpass.value){alert("Password mismatch");return;}
  currentUser={email:email.value,pass:pass.value,role:role.value};
  localStorage.setItem("user",JSON.stringify(currentUser));
  unlock();
}

function login(){
  let u=JSON.parse(localStorage.getItem("user"));
  if(!u||u.email!==lemail.value||u.pass!==lpass.value){
    alert("Wrong login");return;
  }
  currentUser=u;unlock();
}

function unlock(){
  auth.style.display="none";
  site.style.display="block";
  account.style.display="block";
  loadFactories();
}

function forgot(){alert("Password reset demo")}
function logout(){localStorage.clear();location.reload()}
function toggleMenu(){menu.style.display=menu.style.display==="block"?"none":"block"}
</script>

</body>
</html>
